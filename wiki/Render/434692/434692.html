<div class="wikidoc"><h1>Sql Query Health Check</h1>This check allows you to provide a FROM clause to a Sql query. Wolfpack will append your &quot;FROM...&quot; to a &quot;SELECT COUNT(*)&quot; to create a scalar query statement - the number of rows returned can then be used to interpret success or failure.
<h2>Pre-requisites</h2>The account identity that Wolfpack runs under will need to have the appropriate Sql LOGIN and SELECT permissions to the Sql entities in your FROM clause.
<h2>Configuration</h2><ul><li>The config\check.castle.config file stores the check configuration - the example one that ships with Wolfpack is called &quot;WolfpackDatabaseHasResults&quot;.
<ul><li>The <b>ConnectionString</b> property is now &quot;smart&quot; - this can be an actual connection string OR the name of a connection stored in config\data.connection.config. This means that you can reference a connection string rather than have to replicate it to the various database components that require it making deployment easier.</li>
<li><b>Remember</b> when writing your FROM query - you must encode any xml entities such as &lt;&gt;&quot; etc. These are commonly used when writing queries.</li>
<li><b>InterpretZeroRowsAsAFailure</b> controls how the row count is interpretted as a result. Set this to true and the check result will indicate a failure if the query returns no rows. Set it to false to make a non zero rowcount a failure.</li></ul></li>
<li>Finally remember to associate your check with a scheduler in the config\binding.castle.config file</li></ul>
</div><div class="ClearBoth"></div>
<div class="wikidoc"><h1>Health Checks</h1><div style="clear:both;height:0;">&nbsp;</div><img style="float:left;padding-right:.5em;" src="http://download-codeplex.sec.s-msft.com/Download?ProjectName=wolfpack&DownloadId=817504" alt="check.png" title="check.png" /><br /><br />This page contains all the information you need to know about the HealthChecks including detailed information on each one supplied with Wolfpack. In general a HealthCheck will generate a message indicating success or failure of the test; this message is known as a &quot;Notification&quot;. The notification can also provide a numeric (double) value in the ResultCount property - this value being appropriate to the specific test; eg: the CPU HealthCheck Result property is based on whether the threshold you set has been breached and the ResultCount value will be the number CPU % utilisation. <br /><br />Please consult the documentation for each HealthCheck below for details on the values placed in the various properties.<br /><br />A Health Check contains these data properties and each check will set them as required...
<ul><li>Result (bool)</li>
<li>ResultCount (double)</li>
<li>Tags (string) - comma delimited set of keywords to help identify this result</li>
<li>Properties (name/value string pair collection) - allows you to bundle ANY additional result information with this result.</li></ul>

<h3>Exception Handling</h3>A HealthCheck is effectively &quot;sandboxed&quot; by it&#39;s scheduler - a HealthCheck&#39;s &quot;Execute()&quot; method is wrapped by the Wolfpack framework in a try/catch block and should it throw an exception it will be caught and details of the exception will be automatically published by Wolfpack; if this happens the Result will be &quot;null&quot; as we don&#39;t know whether it actually passed or failed. Detailed information about the exception is available in the CriticalFailureDetails property; the CriticalFailure property will also be set to true to clearly indicate a critical failure has occured. The message will also contain a GUID - this GUID is used by Wolfpack when it logs the error in the Wolfpack.log file and allows you to correlate the failing Result message with the exception details and stack trace in the error log.<br /><br />The HealthCheck will continue to execute in case this is just a transient problem. <br /><br />So - no explicit code is required to deal with exceptions, the Wolfpack infrastructure takes care of this for you however if you do need to trap an exception but still want this reported/handled by Wolfpack then in your custom HealthCheck provide your own try/catch and then just <b>rethrow</b> the exception after you have done your processing to allow Wolfpack to deal with it.<br />
<h3>Current Catalogue</h3>This is the current set of health checks provided by Wolfpack and provides comprehensive coverage for monitoring your system and applications however if you have a monitoring requirement not covered or would like to add a new feature to an existing check then please start a new <a href="https://wolfpack.codeplex.com/wikipage?title=discussions&referringTitle=Wolfpackv3FeaturesChecks">discussion</a>. Finally it&#39;s easy to write your own check component and this <a href="https://wolfpack.codeplex.com/wikipage?title=Walkthru%20Creating%20A%20HealthCheck&referringTitle=Wolfpackv3FeaturesChecks">guide</a> provides a walk-thru to create a simple &quot;hello world&quot; check from which you can use as a base to extend.<br />
<ul><li><b><a href="https://wolfpack.codeplex.com/wikipage?title=HealthCheckCPULoad&referringTitle=Wolfpackv3FeaturesChecks">CPU &#37;</a></b> - checks the overall processor load and can optionally provide alerts based on utilisation level %</li>
<li><b><a href="https://wolfpack.codeplex.com/wikipage?title=HealthCheckDiskSpace&referringTitle=Wolfpackv3FeaturesChecks">Disk Space Used</a></b> - checks the amount of disk space used on the specified drive and can optionally provide alerts based on space used %</li>
<li><b><a href="https://wolfpack.codeplex.com/wikipage?title=HealthCheckMSMQQueueInfo&referringTitle=Wolfpackv3FeaturesChecks">MSMQ Queue Info</a></b> - checks a specific queue exists and returns additional information about it.</li>
<li><b><a href="https://wolfpack.codeplex.com/wikipage?title=HealthCheckWMIProcess&referringTitle=Wolfpackv3FeaturesChecks">WMI Process Not Running</a></b> - counts the number of instances of the specified process and raises a failure if there are zero running.</li>
<li><b><a href="https://wolfpack.codeplex.com/wikipage?title=HealthCheckSqlServer-v3&referringTitle=Wolfpackv3FeaturesChecks">SqlServer Query</a></b> - allows you to build health check results from custom SqlServer queries.</li>
<li><b><a href="https://wolfpack.codeplex.com/wikipage?title=HealthCheckWindowsServiceState&referringTitle=Wolfpackv3FeaturesChecks">Windows Service State</a></b> - checks the service is in the state expected.</li>
<li><b><a href="https://wolfpack.codeplex.com/wikipage?title=HealthCheckWindowsServiceStartup&referringTitle=Wolfpackv3FeaturesChecks">Windows Service Startup</a></b> - checks the service has the expected Startup Type set (eg: Auto, Manual, Disabled).</li>
<li><b><a href="https://wolfpack.codeplex.com/wikipage?title=HealthCheckHostPing&referringTitle=Wolfpackv3FeaturesChecks">Host Ping</a></b> - (new in v2.3) ICMP ping a server, optional roundtrip response time alert threshold and only alert if slow/no response.</li>
<li><b><a href="https://wolfpack.codeplex.com/wikipage?title=HealthCheckUrlPing&referringTitle=Wolfpackv3FeaturesChecks">Url Ping</a></b> - pings a set of urls and checks they respond (Http 200 OK) and within an optional response time.</li>
<li><b><a href="https://wolfpack.codeplex.com/wikipage?title=HealthCheckFileInfo&referringTitle=Wolfpackv3FeaturesChecks">File Info</a></b> - checks a specific file exists and returns additional information about it.</li>
<li><b><a href="https://wolfpack.codeplex.com/wikipage?title=HealthCheckFolderInfo&referringTitle=Wolfpackv3FeaturesChecks">Folder Info</a></b> - checks a specific folder exists and returns additional information about it.</li></ul>

<h2>Contrib</h2>That&#39;s not the end of the story as far as plug-ins go... a separate <a href="http://wolfpackcontrib.codeplex.com/">Wolfpack Contrib</a> project established by @RobGibbens provides additional plugins including an email publisher - check it out for more plug-in goodness!<br />
<ul><li><b><a href="https://wolfpack.codeplex.com/wikipage?title=HealthCheckLogParser&referringTitle=Wolfpackv3FeaturesChecks">LogParser Query</a></b> - allows you to build health check results based on LogParser queries.</li>
<li><b><a href="http://wolfpackcontrib.codeplex.com/wikipage?title=Wolfpack.Contrib.Checks.Powershell">Powershell</a></b> - allows you to run a powershell script and there are custom Wolfpack objects it can return back to Wolfpack which are converted into new Notifications.</li>
<li><b><a href="http://wolfpackcontrib.codeplex.com/wikipage?title=WolfPack.Contrib.Checks.Fake">Fakes</a></b> - this provides a check that can be configured to always produce a passing or failing Notification. These are useful for testing your publishers out.</li>
<li><b><a href="http://wolfpackcontrib.codeplex.com/wikipage?title=WolfPack.Contrib.Checks.NuGet&amp;referringTitle=Home">NuGet Release</a></b> - this checks for new releases of a NuGet package. Supports private feeds and multiple packages.</li>
<li><b><a href="http://wolfpackcontrib.codeplex.com/wikipage?title=WolfPack.Contrib.Checks.MongoDb">MongoDb</a></b> - this provides checks for monitoring MongoDb databases.</li>
<li><b><a href="http://wolfpackcontrib.codeplex.com/wikipage?title=Wolfpack.Contrib.Checks.Ssl">SSL Certificate Expiry</a></b> - this provides a check for monitoring SSL certificate expiry.</li></ul>
</div><div class="ClearBoth"></div>
<div class="wikidoc"><h1>Wolfpack Features &amp; Architecture</h1>
Wolfpack is a highly modular and componentised system. It has a plugin architecture for extending its primary features such as checks, publishers and activities and it also provides infrastructure or &quot;plumbing&quot; components such as a Logger, IoC container, Message Bus that you can also replace. <br /><br /><img src="http://download-codeplex.sec.s-msft.com/Download?ProjectName=wolfpack&DownloadId=643687" alt="wolfpackv3components.png" title="wolfpackv3components.png" /><br />
<h2>Health Checks</h2>These act as information collectors - they are the &quot;eyes and ears&quot; of Wolfpack. Each HealthCheck is associated with a host &quot;scheduler&quot; component; the scheduler is responsible for hosting the logic that knows <i>when</i> a HealthCheck should execute.<br /><a href="https://wolfpack.codeplex.com/wikipage?title=Wolfpackv3FeaturesChecks&referringTitle=Architecturev3">Details...</a><br />
<h2>Schedulers</h2>These components provide the timing or trigger logic used to execute a HealthCheck - they effectively &quot;wrap&quot; a HealthCheck and are responsible for calling it. Each instance of a HealthCheck must be associated with a Scheduler and is run on a dedicated thread.<br /><a href="https://wolfpack.codeplex.com/wikipage?title=Wolfpackv3FeaturesSchedulers&referringTitle=Architecturev3">Details...</a><br />
<h2>Publishers</h2>Publishers receive notification events from the Health Checks via the central Notification Hub and do &quot;something&quot; with the data...for instance a publisher could store the notification in a database or forward it to Growl or a HipChat room!<br /><a href="https://wolfpack.codeplex.com/wikipage?title=Wolfpackv3FeaturesPublishers&referringTitle=Architecturev3">Details...</a><br />
<h2>Activities</h2>Activities are agent wide processes. They start with the Agent and usually provide some specific feature or background process. You can easily create a new Activity - just create a new class to implement the <b>IActivityPlugin</b> interface.<br />
<h3>Web Services &amp; UI Activity</h3>This activity creates a self-hosted NancyFx powered API exposing REStful methods to interact with a Wolfpack instance using JSON and also bundled with is a Twitter Bootstrap based user interface with views using Knockout to visualise Wolfpack status, activity and control its configuration.<br /><a href="https://wolfpack.codeplex.com/wikipage?title=Wolfpackv3FeaturesWebInterface&referringTitle=Architecturev3">Details...</a>
<ul><li>Web UI allows you to configure Wolfpack plugins and monitor notifications in real-time with a SignalR activity page.
<ul><li>Create, edit and delete plugin configuration</li>
<li>Plugins can advertise themselves to the Config UI by implementing the ISupportConfigurationDiscovery interface - they will automatically appear in the UI and you will be able to create a new instance of it.</li>
<li>NancyFx interface exposes API methods and html/Knockout views</li>
<li>You can create your own plug-ins to extend the Wolfpack API or even add new pages/views - eg: roll your own HTML/Javascript dashboard!</li></ul></li></ul>

<h2>Notification Hub</h2>This component is responsible for hosting and applying logic that controls notification publication.<br /><a href="https://wolfpack.codeplex.com/wikipage?title=Wolfpackv3FeaturesNotification&referringTitle=Architecturev3">Details...</a>
<ul><li>The core notification system has had a major remodel and now allows much better control over the logic that determines whether a notification should be published - you can provide custom plugins to assist if the built-in ones don&#39;t cover your requirements. The new &quot;NotificationHub&quot; component ensures that notifications are routed through this publication logic.</li>
<li>Notification message format is unified and simplified - direct support for document databases, just store the notification object!</li>
<li>SignalR activity plugin will broadcast notifications to all connected clients.</li></ul>

<h2>Message Bus</h2>This component provides an internal pub/sub mechanism and it allows plugins to communicate with each other via event messages. The primary use of the bus is to transport Notification Events from Health Checks (pub) to Publisher (sub) but you can register any pub/sub combination with the Bus. You can also attach Message Interceptors, pre/post delivery to hook into the Bus activity.<br /><a href="https://wolfpack.codeplex.com/wikipage?title=Wolfpackv3FeaturesMessageBus&referringTitle=Architecturev3">Details...</a><br />
<h2>Configuration Manager</h2>This component is responsible for managing plugin configuration - it relies on multiple configuration repository components to which you can add your own if you want to store plugin configuration in a custom way, eg: database, the cloud etc. By default Wolfpack stores its configuration on the file system as JSON format files but you can easily create new plugins to manage your configuration persistence.<br /><a href="https://wolfpack.codeplex.com/wikipage?title=Wolfpackv3FeaturesConfiguration&referringTitle=Architecturev3">Details...</a><br />
<h2>Artifact Manager</h2>A new feature of v3 is the ability for a Health Check to create &quot;artifacts&quot;. Often a Health Check will produce a large result set as a by-product of raising a Notification - this result set can now be stored as an &quot;artifact&quot; associated with the Notification and can easily be accessed via the Web API methods, all you need is the unique id (Guid) of the Notification and you can download the result set as a CSV file.<br /><a href="https://wolfpack.codeplex.com/wikipage?title=Wolfpackv3FeaturesArtifacts&referringTitle=Architecturev3">Details...</a>
<ul><li>Artifacts - HealthChecks can now produce large data sets (to support a notification) and have these served up as a CSV download via the WebInterface. 
<ul><li>Eg: LogParser check can produce a resultset from a query, create a notification - you can see the resultset captured that triggered the notification.</li></ul></li></ul>
</div><div class="ClearBoth"></div>